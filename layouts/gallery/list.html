{{- define "title" -}}
  {{- .Title -}} - {{ .Site.Title -}}
{{- end -}}

{{- define "content" -}}
  <div class="page gallery">
    <h2 class="single-title animate__animated animate__pulse animate__faster">
      {{- .Title -}}
    </h2>

    {{- if .Pages -}}
      <div class="gallery-grid">
        {{- range .Pages.ByDate.Reverse -}}
          <article class="gallery-card">
            <a class="gallery-thumb" href="{{ .RelPermalink }}">
              <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" loading="lazy" />
            </a>
            <div class="gallery-meta">
              <h3 class="gallery-title">
                <a href="{{ .RelPermalink }}">{{ .Title }}</a>
              </h3>
              <p class="gallery-date">{{ .Date.Format "2006-01-02 15:04" }}</p>
              {{- with .Params.description -}}
                <p class="gallery-desc">{{ . }}</p>
              {{- end -}}
            </div>
          </article>
        {{- end -}}
      </div>
    {{- else -}}
      <p>No images yet.</p>
    {{- end -}}
  </div>

  <style>
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.25rem;
      margin-top: 1.5rem;
    }

    .gallery-card {
      background: #ffffff;
      border: 1px solid #e6e6e6;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .gallery-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.12);
    }

    .gallery-thumb {
      display: block;
      background: #f5f5f5;
      aspect-ratio: 4 / 3;
      overflow: hidden;
    }

    .gallery-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .gallery-meta {
      padding: 0.9rem 1rem 1.1rem;
    }

    .gallery-title {
      margin: 0 0 0.35rem;
      font-size: 1.05rem;
      font-weight: 700;
      line-height: 1.3;
    }

    .gallery-title a {
      color: inherit;
    }

    .gallery-desc {
      margin: 0;
      color: #666666;
      font-size: 0.95rem;
      line-height: 1.4;
    }

    .gallery-date {
      margin: 0 0 0.35rem;
      font-size: 0.85rem;
      color: #9a9a9a;
    }

    [theme=dark] .gallery-card {
      background: #1f1f22;
      border-color: #2f3136;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.45);
    }

    [theme=dark] .gallery-thumb {
      background: #2a2c31;
    }

    [theme=dark] .gallery-desc {
      color: #b3b3b3;
    }

    [theme=dark] .gallery-date {
      color: #7f7f7f;
    }
  </style>
{{- end -}}
